db:
  build: ./dockers/docker-postgresql
  ports:
    - "5432:5432"
  volumes:
    - ./dockers/docker-postgresql/data:/data
    - ./dockers/docker-postgresql/log:/var/log/postgresql
  environment:
    - USER=DESENVOLVEDOR
    - DB=QUIRON_DESENVOLVIMENTO
    - PASS=desenvolvedor
    - SCHEMA=quiron
tomcat:
  build: ./dockers/tomcat6
  ports:
    - "8080:8080"
  links:
    - db:db
  environment:
    - ON_PRODUCTION=true
    - QUIRON_DB_NAME=QUIRON_DESENVOLVIMENTO
    - QUIRON_DB_SCHEMA=quiron
    - QUIRON_DB_USER=DESENVOLVEDOR
    - QUIRON_DB_PASS=desenvolvedor
  volumes:
    - ./dockers/tomcat6/deploy:/usr/share/tomcat/webapps
    - ./dockers/tomcat6/logs:/usr/share/tomcat/logs
  mem_limit: 512000000


